{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Reactotron = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _reactotronReactNative = _interopRequireDefault(require(\"reactotron-react-native\"));\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-community/async-storage\"));\n\nvar _mobxStateTree = require(\"mobx-state-tree\");\n\nvar _reactotronConfig = require(\"./reactotron-config\");\n\nvar _reactotronMst = require(\"reactotron-mst\");\n\nvar _storage = require(\"../../utils/storage\");\n\nvar _navigation = require(\"../../navigation\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar noop = function noop() {\n  return undefined;\n};\n\nif (__DEV__) {\n  console.tron = _reactotronReactNative.default;\n} else {\n  console.tron = {\n    benchmark: noop,\n    clear: noop,\n    close: noop,\n    configure: noop,\n    connect: noop,\n    display: noop,\n    error: noop,\n    image: noop,\n    log: noop,\n    logImportant: noop,\n    onCustomCommand: noop,\n    overlay: noop,\n    reportError: noop,\n    send: noop,\n    startTimer: noop,\n    storybookSwitcher: noop,\n    use: noop,\n    useReactNative: noop,\n    warn: noop\n  };\n}\n\nvar Reactotron = function () {\n  function Reactotron() {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _reactotronConfig.DEFAULT_REACTOTRON_CONFIG;\n    (0, _classCallCheck2.default)(this, Reactotron);\n    this.config = _objectSpread(_objectSpread({\n      host: \"localhost\",\n      useAsyncStorage: true\n    }, config), {}, {\n      state: _objectSpread({\n        initial: false,\n        snapshots: false\n      }, config && config.state)\n    });\n  }\n\n  (0, _createClass2.default)(Reactotron, [{\n    key: \"setRootStore\",\n    value: function setRootStore(rootStore, initialData) {\n      if (__DEV__) {\n        rootStore = rootStore;\n        this.rootStore = rootStore;\n        var _this$config$state = this.config.state,\n            initial = _this$config$state.initial,\n            snapshots = _this$config$state.snapshots;\n        var name = \"ROOT STORE\";\n\n        if (initial) {\n          console.tron.display({\n            name: name,\n            value: initialData,\n            preview: \"Initial State\"\n          });\n        }\n\n        if (snapshots) {\n          (0, _mobxStateTree.onSnapshot)(rootStore, function (snapshot) {\n            console.tron.display({\n              name: name,\n              value: snapshot,\n              preview: \"New State\"\n            });\n          });\n        }\n\n        console.tron.trackMstNode(rootStore);\n      }\n    }\n  }, {\n    key: \"setup\",\n    value: function setup() {\n      var RX;\n      return _regenerator.default.async(function setup$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (__DEV__) {\n                _reactotronReactNative.default.configure({\n                  name: this.config.name || require(\"../../../package.json\").name,\n                  host: this.config.host\n                });\n\n                if (this.config.useAsyncStorage) {\n                  _reactotronReactNative.default.setAsyncStorageHandler(_asyncStorage.default);\n                }\n\n                _reactotronReactNative.default.useReactNative({\n                  asyncStorage: this.config.useAsyncStorage ? undefined : false\n                });\n\n                RX = /postProcessSnapshot|@APPLY_SNAPSHOT/;\n\n                _reactotronReactNative.default.use((0, _reactotronMst.mst)({\n                  filter: function filter(event) {\n                    return RX.test(event.name) === false;\n                  }\n                }));\n\n                _reactotronReactNative.default.connect();\n\n                _reactotronReactNative.default.onCustomCommand({\n                  title: \"Reset Root Store\",\n                  description: \"Resets the MST store\",\n                  command: \"resetStore\",\n                  handler: function handler() {\n                    console.tron.log(\"resetting store\");\n                    (0, _storage.clear)();\n                  }\n                });\n\n                _reactotronReactNative.default.onCustomCommand({\n                  title: \"Reset Navigation State\",\n                  description: \"Resets the navigation state\",\n                  command: \"resetNavigation\",\n                  handler: function handler() {\n                    console.tron.log(\"resetting navigation state\");\n\n                    _navigation.RootNavigation.resetRoot({\n                      routes: []\n                    });\n                  }\n                });\n\n                _reactotronReactNative.default.onCustomCommand({\n                  title: \"Go Back\",\n                  description: \"Goes back\",\n                  command: \"goBack\",\n                  handler: function handler() {\n                    console.tron.log(\"Going back\");\n\n                    _navigation.RootNavigation.goBack();\n                  }\n                });\n\n                if (this.config.clearOnLoad) {\n                  _reactotronReactNative.default.clear();\n                }\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }]);\n  return Reactotron;\n}();\n\nexports.Reactotron = Reactotron;","map":{"version":3,"sources":["C:/Users/na2tt/Desktop/homework/Recipe_App/app/services/reactotron/reactotron.ts"],"names":["noop","undefined","__DEV__","console","tron","Tron","benchmark","clear","close","configure","connect","display","error","image","log","logImportant","onCustomCommand","overlay","reportError","send","startTimer","storybookSwitcher","use","useReactNative","warn","Reactotron","config","DEFAULT_REACTOTRON_CONFIG","host","useAsyncStorage","state","initial","snapshots","rootStore","initialData","name","value","preview","snapshot","trackMstNode","require","setAsyncStorageHandler","AsyncStorage","asyncStorage","RX","filter","event","test","title","description","command","handler","RootNavigation","resetRoot","routes","goBack","clearOnLoad"],"mappings":"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","sourcesContent":["import Tron from \"reactotron-react-native\"\r\nimport AsyncStorage from \"@react-native-community/async-storage\"\r\nimport { RootStore } from \"../../models/root-store/root-store\"\r\nimport { onSnapshot } from \"mobx-state-tree\"\r\nimport { ReactotronConfig, DEFAULT_REACTOTRON_CONFIG } from \"./reactotron-config\"\r\nimport { mst } from \"reactotron-mst\"\r\nimport { clear } from \"../../utils/storage\"\r\nimport { RootNavigation } from \"../../navigation\"\r\n\r\n// Teach TypeScript about the bad things we want to do.\r\ndeclare global {\r\n  interface Console {\r\n    /**\r\n     * Hey, it's Reactotron if we're in dev, and no-ops if we're in prod.\r\n     */\r\n    tron: typeof Tron\r\n  }\r\n}\r\n\r\n/** Do Nothing. */\r\nconst noop = () => undefined\r\n\r\n// in dev, we attach Reactotron, in prod we attach a interface-compatible mock.\r\nif (__DEV__) {\r\n  console.tron = Tron // attach reactotron to `console.tron`\r\n} else {\r\n  // attach a mock so if things sneaky by our __DEV__ guards, we won't crash.\r\n  console.tron = {\r\n    benchmark: noop,\r\n    clear: noop,\r\n    close: noop,\r\n    configure: noop,\r\n    connect: noop,\r\n    display: noop,\r\n    error: noop,\r\n    image: noop,\r\n    log: noop,\r\n    logImportant: noop,\r\n    onCustomCommand: noop,\r\n    overlay: noop,\r\n    reportError: noop,\r\n    send: noop,\r\n    startTimer: noop,\r\n    storybookSwitcher: noop,\r\n    use: noop,\r\n    useReactNative: noop,\r\n    warn: noop,\r\n  }\r\n}\r\n\r\n/**\r\n * You'll probably never use the service like this since we hang the Reactotron\r\n * instance off of `console.tron`. This is only to be consistent with the other\r\n * services.\r\n */\r\nexport class Reactotron {\r\n  config: ReactotronConfig\r\n\r\n  rootStore: any\r\n\r\n  /**\r\n   * Create the Reactotron service.\r\n   *\r\n   * @param config the configuration\r\n   */\r\n  constructor(config: ReactotronConfig = DEFAULT_REACTOTRON_CONFIG) {\r\n    // merge the passed in config with some defaults\r\n    this.config = {\r\n      host: \"localhost\",\r\n      useAsyncStorage: true,\r\n      ...config,\r\n      state: {\r\n        initial: false,\r\n        snapshots: false,\r\n        ...(config && config.state),\r\n      },\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hook into the root store for doing awesome state-related things.\r\n   *\r\n   * @param rootStore The root store\r\n   */\r\n  setRootStore(rootStore: any, initialData: any) {\r\n    if (__DEV__) {\r\n      rootStore = rootStore as RootStore // typescript hack\r\n      this.rootStore = rootStore\r\n\r\n      const { initial, snapshots } = this.config.state\r\n      const name = \"ROOT STORE\"\r\n\r\n      // logging features\r\n      if (initial) {\r\n        console.tron.display({ name, value: initialData, preview: \"Initial State\" })\r\n      }\r\n      // log state changes?\r\n      if (snapshots) {\r\n        onSnapshot(rootStore, snapshot => {\r\n          console.tron.display({ name, value: snapshot, preview: \"New State\" })\r\n        })\r\n      }\r\n\r\n      // @ts-ignore\r\n      console.tron.trackMstNode(rootStore)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Configure reactotron based on the the config settings passed in, then connect if we need to.\r\n   */\r\n  async setup() {\r\n    // only run this in dev... metro bundler will ignore this block: ðŸŽ‰\r\n    if (__DEV__) {\r\n      // configure reactotron\r\n      Tron.configure({\r\n        name: this.config.name || require(\"../../../package.json\").name,\r\n        host: this.config.host,\r\n      })\r\n\r\n      // hookup middleware\r\n      if (this.config.useAsyncStorage) {\r\n        Tron.setAsyncStorageHandler(AsyncStorage)\r\n      }\r\n      // eslint-disable-next-line react-hooks/rules-of-hooks\r\n      Tron.useReactNative({\r\n        asyncStorage: this.config.useAsyncStorage ? undefined : false,\r\n      })\r\n\r\n      // ignore some chatty `mobx-state-tree` actions\r\n      const RX = /postProcessSnapshot|@APPLY_SNAPSHOT/\r\n\r\n      // hookup mobx-state-tree middleware\r\n      Tron.use(\r\n        mst({\r\n          filter: event => RX.test(event.name) === false,\r\n        }),\r\n      )\r\n\r\n      // connect to the app\r\n      Tron.connect()\r\n\r\n      // Register Custom Commands\r\n      Tron.onCustomCommand({\r\n        title: \"Reset Root Store\",\r\n        description: \"Resets the MST store\",\r\n        command: \"resetStore\",\r\n        handler: () => {\r\n          console.tron.log(\"resetting store\")\r\n          clear()\r\n        },\r\n      })\r\n\r\n      Tron.onCustomCommand({\r\n        title: \"Reset Navigation State\",\r\n        description: \"Resets the navigation state\",\r\n        command: \"resetNavigation\",\r\n        handler: () => {\r\n          console.tron.log(\"resetting navigation state\")\r\n          RootNavigation.resetRoot({ routes: [] })\r\n        },\r\n      })\r\n\r\n      Tron.onCustomCommand({\r\n        title: \"Go Back\",\r\n        description: \"Goes back\",\r\n        command: \"goBack\",\r\n        handler: () => {\r\n          console.tron.log(\"Going back\")\r\n          RootNavigation.goBack()\r\n        },\r\n      })\r\n\r\n      // clear if we should\r\n      if (this.config.clearOnLoad) {\r\n        Tron.clear()\r\n      }\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}