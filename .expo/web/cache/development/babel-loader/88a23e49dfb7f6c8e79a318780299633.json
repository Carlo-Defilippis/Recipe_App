{"ast":null,"code":"'use strict';\n\nvar Systrace = require('../Performance/Systrace');\n\nvar infoLog = require('./infoLog');\n\nvar performanceNow = global.nativeQPLTimestamp || global.nativePerformanceNow || require('fbjs/lib/performanceNow');\n\nvar _cookies = {};\nvar PRINT_TO_CONSOLE = false;\n\nfunction createPerformanceLogger() {\n  var result = {\n    _timespans: {},\n    _extras: {},\n    _points: {},\n    addTimespan: function addTimespan(key, lengthInMs, description) {\n      if (this._timespans[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog('PerformanceLogger: Attempting to add a timespan that already exists ', key);\n        }\n\n        return;\n      }\n\n      this._timespans[key] = {\n        description: description,\n        totalTime: lengthInMs\n      };\n    },\n    startTimespan: function startTimespan(key, description) {\n      if (this._timespans[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog('PerformanceLogger: Attempting to start a timespan that already exists ', key);\n        }\n\n        return;\n      }\n\n      this._timespans[key] = {\n        description: description,\n        startTime: performanceNow()\n      };\n      _cookies[key] = Systrace.beginAsyncEvent(key);\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'start: ' + key);\n      }\n    },\n    stopTimespan: function stopTimespan(key, options) {\n      var timespan = this._timespans[key];\n\n      if (!timespan || !timespan.startTime) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog('PerformanceLogger: Attempting to end a timespan that has not started ', key);\n        }\n\n        return;\n      }\n\n      if (timespan.endTime && !(options == null ? void 0 : options.update)) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog('PerformanceLogger: Attempting to end a timespan that has already ended ', key);\n        }\n\n        return;\n      }\n\n      timespan.endTime = performanceNow();\n      timespan.totalTime = timespan.endTime - (timespan.startTime || 0);\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'end: ' + key);\n      }\n\n      if (_cookies[key] != null) {\n        Systrace.endAsyncEvent(key, _cookies[key]);\n        delete _cookies[key];\n      }\n    },\n    clear: function clear() {\n      this._timespans = {};\n      this._extras = {};\n      this._points = {};\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clear');\n      }\n    },\n    clearCompleted: function clearCompleted() {\n      for (var _key in this._timespans) {\n        if (this._timespans[_key].totalTime) {\n          delete this._timespans[_key];\n        }\n      }\n\n      this._extras = {};\n      this._points = {};\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clearCompleted');\n      }\n    },\n    clearExceptTimespans: function clearExceptTimespans(keys) {\n      this._timespans = Object.keys(this._timespans).reduce(function (previous, key) {\n        if (keys.indexOf(key) !== -1) {\n          previous[key] = this._timespans[key];\n        }\n\n        return previous;\n      }, {});\n      this._extras = {};\n      this._points = {};\n\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clearExceptTimespans', keys);\n      }\n    },\n    currentTimestamp: function currentTimestamp() {\n      return performanceNow();\n    },\n    getTimespans: function getTimespans() {\n      return this._timespans;\n    },\n    hasTimespan: function hasTimespan(key) {\n      return !!this._timespans[key];\n    },\n    logTimespans: function logTimespans() {\n      if (PRINT_TO_CONSOLE) {\n        for (var _key2 in this._timespans) {\n          if (this._timespans[_key2].totalTime) {\n            infoLog(_key2 + ': ' + this._timespans[_key2].totalTime + 'ms');\n          }\n        }\n      }\n    },\n    addTimespans: function addTimespans(newTimespans, labels) {\n      for (var ii = 0, l = newTimespans.length; ii < l; ii += 2) {\n        var label = labels[ii / 2];\n        this.addTimespan(label, newTimespans[ii + 1] - newTimespans[ii], label);\n      }\n    },\n    setExtra: function setExtra(key, value) {\n      if (this._extras[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog('PerformanceLogger: Attempting to set an extra that already exists ', {\n            key: key,\n            currentValue: this._extras[key],\n            attemptedValue: value\n          });\n        }\n\n        return;\n      }\n\n      this._extras[key] = value;\n    },\n    getExtras: function getExtras() {\n      return this._extras;\n    },\n    removeExtra: function removeExtra(key) {\n      var value = this._extras[key];\n      delete this._extras[key];\n      return value;\n    },\n    logExtras: function logExtras() {\n      if (PRINT_TO_CONSOLE) {\n        infoLog(this._extras);\n      }\n    },\n    markPoint: function markPoint(key, timestamp) {\n      if (this._points[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog('PerformanceLogger: Attempting to mark a point that has been already logged ', key);\n        }\n\n        return;\n      }\n\n      this._points[key] = timestamp != null ? timestamp : performanceNow();\n    },\n    getPoints: function getPoints() {\n      return this._points;\n    },\n    logPoints: function logPoints() {\n      if (PRINT_TO_CONSOLE) {\n        for (var _key3 in this._points) {\n          infoLog(_key3 + ': ' + this._points[_key3] + 'ms');\n        }\n      }\n    },\n    logEverything: function logEverything() {\n      this.logTimespans();\n      this.logExtras();\n      this.logPoints();\n    }\n  };\n  return result;\n}\n\nmodule.exports = createPerformanceLogger;","map":{"version":3,"sources":["C:/Users/na2tt/Desktop/homework/Recipe_App/node_modules/react-native/Libraries/Utilities/createPerformanceLogger.js"],"names":["Systrace","require","infoLog","performanceNow","global","nativeQPLTimestamp","nativePerformanceNow","_cookies","PRINT_TO_CONSOLE","createPerformanceLogger","result","_timespans","_extras","_points","addTimespan","key","lengthInMs","description","__DEV__","totalTime","startTimespan","startTime","beginAsyncEvent","stopTimespan","options","timespan","endTime","update","endAsyncEvent","clear","clearCompleted","clearExceptTimespans","keys","Object","reduce","previous","indexOf","currentTimestamp","getTimespans","hasTimespan","logTimespans","addTimespans","newTimespans","labels","ii","l","length","label","setExtra","value","currentValue","attemptedValue","getExtras","removeExtra","logExtras","markPoint","timestamp","getPoints","logPoints","logEverything","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n * @format\n */\n\n'use strict';\n\nconst Systrace = require('../Performance/Systrace');\n\nconst infoLog = require('./infoLog');\nconst performanceNow =\n  global.nativeQPLTimestamp ||\n  global.nativePerformanceNow ||\n  require('fbjs/lib/performanceNow');\n\ntype Timespan = {\n  description?: string,\n  totalTime?: number,\n  startTime?: number,\n  endTime?: number,\n  ...\n};\n\nexport type IPerformanceLogger = {\n  addTimespan(string, number, string | void): void,\n  startTimespan(string, string | void): void,\n  stopTimespan(string, options?: {update?: boolean}): void,\n  clear(): void,\n  clearCompleted(): void,\n  clearExceptTimespans(Array<string>): void,\n  currentTimestamp(): number,\n  getTimespans(): {[key: string]: Timespan, ...},\n  hasTimespan(string): boolean,\n  logTimespans(): void,\n  addTimespans(Array<number>, Array<string>): void,\n  setExtra(string, any): void,\n  getExtras(): {[key: string]: any, ...},\n  removeExtra(string): ?any,\n  logExtras(): void,\n  markPoint(string, number | void): void,\n  getPoints(): {[key: string]: number, ...},\n  logPoints(): void,\n  logEverything(): void,\n  ...\n};\n\nconst _cookies: {[key: string]: number, ...} = {};\n\nconst PRINT_TO_CONSOLE: false = false; // Type as false to prevent accidentally committing `true`;\n\n/**\n * This function creates performance loggers that can be used to collect and log\n * various performance data such as timespans, points and extras.\n * The loggers need to have minimal overhead since they're used in production.\n */\nfunction createPerformanceLogger(): IPerformanceLogger {\n  const result: IPerformanceLogger & {\n    _timespans: {[key: string]: Timespan, ...},\n    _extras: {[key: string]: any, ...},\n    _points: {[key: string]: number, ...},\n    ...\n  } = {\n    _timespans: {},\n    _extras: {},\n    _points: {},\n\n    addTimespan(key: string, lengthInMs: number, description?: string) {\n      if (this._timespans[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog(\n            'PerformanceLogger: Attempting to add a timespan that already exists ',\n            key,\n          );\n        }\n        return;\n      }\n\n      this._timespans[key] = {\n        description: description,\n        totalTime: lengthInMs,\n      };\n    },\n\n    startTimespan(key: string, description?: string) {\n      if (this._timespans[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog(\n            'PerformanceLogger: Attempting to start a timespan that already exists ',\n            key,\n          );\n        }\n        return;\n      }\n\n      this._timespans[key] = {\n        description: description,\n        startTime: performanceNow(),\n      };\n      _cookies[key] = Systrace.beginAsyncEvent(key);\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'start: ' + key);\n      }\n    },\n\n    stopTimespan(key: string, options?: {update?: boolean}) {\n      const timespan = this._timespans[key];\n      if (!timespan || !timespan.startTime) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog(\n            'PerformanceLogger: Attempting to end a timespan that has not started ',\n            key,\n          );\n        }\n        return;\n      }\n      if (timespan.endTime && !options?.update) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog(\n            'PerformanceLogger: Attempting to end a timespan that has already ended ',\n            key,\n          );\n        }\n        return;\n      }\n\n      timespan.endTime = performanceNow();\n      timespan.totalTime = timespan.endTime - (timespan.startTime || 0);\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'end: ' + key);\n      }\n\n      if (_cookies[key] != null) {\n        Systrace.endAsyncEvent(key, _cookies[key]);\n        delete _cookies[key];\n      }\n    },\n\n    clear() {\n      this._timespans = {};\n      this._extras = {};\n      this._points = {};\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clear');\n      }\n    },\n\n    clearCompleted() {\n      for (const key in this._timespans) {\n        if (this._timespans[key].totalTime) {\n          delete this._timespans[key];\n        }\n      }\n      this._extras = {};\n      this._points = {};\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clearCompleted');\n      }\n    },\n\n    clearExceptTimespans(keys: Array<string>) {\n      this._timespans = Object.keys(this._timespans).reduce(function(\n        previous,\n        key,\n      ) {\n        if (keys.indexOf(key) !== -1) {\n          previous[key] = this._timespans[key];\n        }\n        return previous;\n      },\n      {});\n      this._extras = {};\n      this._points = {};\n      if (PRINT_TO_CONSOLE) {\n        infoLog('PerformanceLogger.js', 'clearExceptTimespans', keys);\n      }\n    },\n\n    currentTimestamp() {\n      return performanceNow();\n    },\n\n    getTimespans() {\n      return this._timespans;\n    },\n\n    hasTimespan(key: string) {\n      return !!this._timespans[key];\n    },\n\n    logTimespans() {\n      if (PRINT_TO_CONSOLE) {\n        for (const key in this._timespans) {\n          if (this._timespans[key].totalTime) {\n            infoLog(key + ': ' + this._timespans[key].totalTime + 'ms');\n          }\n        }\n      }\n    },\n\n    addTimespans(newTimespans: Array<number>, labels: Array<string>) {\n      for (let ii = 0, l = newTimespans.length; ii < l; ii += 2) {\n        const label = labels[ii / 2];\n        this.addTimespan(label, newTimespans[ii + 1] - newTimespans[ii], label);\n      }\n    },\n\n    setExtra(key: string, value: any) {\n      if (this._extras[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog(\n            'PerformanceLogger: Attempting to set an extra that already exists ',\n            {key, currentValue: this._extras[key], attemptedValue: value},\n          );\n        }\n        return;\n      }\n      this._extras[key] = value;\n    },\n\n    getExtras() {\n      return this._extras;\n    },\n\n    removeExtra(key: string): ?any {\n      const value = this._extras[key];\n      delete this._extras[key];\n      return value;\n    },\n\n    logExtras() {\n      if (PRINT_TO_CONSOLE) {\n        infoLog(this._extras);\n      }\n    },\n\n    markPoint(key: string, timestamp?: number) {\n      if (this._points[key]) {\n        if (PRINT_TO_CONSOLE && __DEV__) {\n          infoLog(\n            'PerformanceLogger: Attempting to mark a point that has been already logged ',\n            key,\n          );\n        }\n        return;\n      }\n      this._points[key] = timestamp ?? performanceNow();\n    },\n\n    getPoints() {\n      return this._points;\n    },\n\n    logPoints() {\n      if (PRINT_TO_CONSOLE) {\n        for (const key in this._points) {\n          infoLog(key + ': ' + this._points[key] + 'ms');\n        }\n      }\n    },\n\n    logEverything() {\n      this.logTimespans();\n      this.logExtras();\n      this.logPoints();\n    },\n  };\n  return result;\n}\n\nmodule.exports = createPerformanceLogger;\n"]},"metadata":{},"sourceType":"script"}