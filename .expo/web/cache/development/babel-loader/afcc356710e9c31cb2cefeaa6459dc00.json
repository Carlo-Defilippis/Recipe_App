{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\na2tt\\\\Desktop\\\\homework\\\\Recipe_App\\\\node_modules\\\\react-native\\\\Libraries\\\\Inspector\\\\Inspector.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Dimensions = require('../Utilities/Dimensions');\n\nvar InspectorOverlay = require('./InspectorOverlay');\n\nvar InspectorPanel = require('./InspectorPanel');\n\nvar Platform = require('../Utilities/Platform');\n\nvar React = require('react');\n\nvar ReactNative = require('../Renderer/shims/ReactNative');\n\nvar StyleSheet = require('../StyleSheet/StyleSheet');\n\nvar Touchable = require('../Components/Touchable/Touchable');\n\nvar View = require('../Components/View/View');\n\nvar invariant = require('invariant');\n\nvar hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\nvar renderers = findRenderers();\nhook.resolveRNStyle = require('../StyleSheet/flattenStyle');\n\nvar viewConfig = require('../Components/View/ReactNativeViewViewConfig');\n\nhook.nativeStyleEditorValidAttributes = Object.keys(viewConfig.validAttributes.style);\n\nfunction findRenderers() {\n  var allRenderers = Array.from(hook.renderers.values());\n  invariant(allRenderers.length >= 1, 'Expected to find at least one React Native renderer on DevTools hook.');\n  return allRenderers;\n}\n\nfunction getInspectorDataForViewAtPoint(inspectedView, locationX, locationY, callback) {\n  for (var i = 0; i < renderers.length; i++) {\n    var _renderer$rendererCon;\n\n    var renderer = renderers[i];\n\n    if ((renderer == null ? void 0 : (_renderer$rendererCon = renderer.rendererConfig) == null ? void 0 : _renderer$rendererCon.getInspectorDataForViewAtPoint) != null) {\n      renderer.rendererConfig.getInspectorDataForViewAtPoint(inspectedView, locationX, locationY, function (viewData) {\n        if (viewData && viewData.hierarchy.length > 0) {\n          callback(viewData);\n        }\n      });\n    }\n  }\n}\n\nvar Inspector = function (_React$Component) {\n  _inherits(Inspector, _React$Component);\n\n  var _super = _createSuper(Inspector);\n\n  function Inspector(props) {\n    var _this;\n\n    _classCallCheck(this, Inspector);\n\n    _this = _super.call(this, props);\n    _this._hideTimeoutID = null;\n\n    _this._attachToDevtools = function (agent) {\n      agent.addListener('hideNativeHighlight', _this._onAgentHideNativeHighlight);\n      agent.addListener('showNativeHighlight', _this._onAgentShowNativeHighlight);\n      agent.addListener('shutdown', _this._onAgentShutdown);\n\n      _this.setState({\n        devtoolsAgent: agent\n      });\n    };\n\n    _this._onAgentHideNativeHighlight = function () {\n      if (_this.state.inspected === null) {\n        return;\n      }\n\n      _this._hideTimeoutID = setTimeout(function () {\n        _this.setState({\n          inspected: null\n        });\n      }, 100);\n    };\n\n    _this._onAgentShowNativeHighlight = function (node) {\n      clearTimeout(_this._hideTimeoutID);\n      node.measure(function (x, y, width, height, left, top) {\n        _this.setState({\n          hierarchy: [],\n          inspected: {\n            frame: {\n              left: left,\n              top: top,\n              width: width,\n              height: height\n            }\n          }\n        });\n      });\n    };\n\n    _this._onAgentShutdown = function () {\n      var agent = _this.state.devtoolsAgent;\n\n      if (agent != null) {\n        agent.removeListener('hideNativeHighlight', _this._onAgentHideNativeHighlight);\n        agent.removeListener('showNativeHighlight', _this._onAgentShowNativeHighlight);\n        agent.removeListener('shutdown', _this._onAgentShutdown);\n\n        _this.setState({\n          devtoolsAgent: null\n        });\n      }\n    };\n\n    _this.state = {\n      devtoolsAgent: null,\n      hierarchy: null,\n      panelPos: 'bottom',\n      inspecting: true,\n      perfing: false,\n      inspected: null,\n      selection: null,\n      inspectedView: _this.props.inspectedView,\n      networking: false\n    };\n    return _this;\n  }\n\n  _createClass(Inspector, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      hook.on('react-devtools', this._attachToDevtools);\n\n      if (hook.reactDevtoolsAgent) {\n        this._attachToDevtools(hook.reactDevtoolsAgent);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._subs) {\n        this._subs.map(function (fn) {\n          return fn();\n        });\n      }\n\n      hook.off('react-devtools', this._attachToDevtools);\n      this._setTouchedViewData = null;\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(newProps) {\n      this.setState({\n        inspectedView: newProps.inspectedView\n      });\n    }\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(i) {\n      var _this2 = this;\n\n      var hierarchyItem = this.state.hierarchy[i];\n\n      var _hierarchyItem$getIns = hierarchyItem.getInspectorData(ReactNative.findNodeHandle),\n          measure = _hierarchyItem$getIns.measure,\n          props = _hierarchyItem$getIns.props,\n          source = _hierarchyItem$getIns.source;\n\n      measure(function (x, y, width, height, left, top) {\n        _this2.setState({\n          inspected: {\n            frame: {\n              left: left,\n              top: top,\n              width: width,\n              height: height\n            },\n            style: props.style,\n            source: source\n          },\n          selection: i\n        });\n      });\n    }\n  }, {\n    key: \"onTouchPoint\",\n    value: function onTouchPoint(locationX, locationY) {\n      var _this3 = this;\n\n      this._setTouchedViewData = function (viewData) {\n        var hierarchy = viewData.hierarchy,\n            props = viewData.props,\n            selectedIndex = viewData.selectedIndex,\n            source = viewData.source,\n            frame = viewData.frame,\n            pointerY = viewData.pointerY,\n            touchedViewTag = viewData.touchedViewTag;\n\n        if (_this3.state.devtoolsAgent && touchedViewTag) {\n          _this3.state.devtoolsAgent.selectNode(ReactNative.findNodeHandle(touchedViewTag));\n        }\n\n        _this3.setState({\n          panelPos: pointerY > Dimensions.get('window').height / 2 ? 'top' : 'bottom',\n          selection: selectedIndex,\n          hierarchy: hierarchy,\n          inspected: {\n            style: props.style,\n            frame: frame,\n            source: source\n          }\n        });\n      };\n\n      getInspectorDataForViewAtPoint(this.state.inspectedView, locationX, locationY, function (viewData) {\n        if (_this3._setTouchedViewData != null) {\n          _this3._setTouchedViewData(viewData);\n\n          _this3._setTouchedViewData = null;\n        }\n      });\n    }\n  }, {\n    key: \"setPerfing\",\n    value: function setPerfing(val) {\n      this.setState({\n        perfing: val,\n        inspecting: false,\n        inspected: null,\n        networking: false\n      });\n    }\n  }, {\n    key: \"setInspecting\",\n    value: function setInspecting(val) {\n      this.setState({\n        inspecting: val,\n        inspected: null\n      });\n    }\n  }, {\n    key: \"setTouchTargeting\",\n    value: function setTouchTargeting(val) {\n      var _this4 = this;\n\n      Touchable.TOUCH_TARGET_DEBUG = val;\n      this.props.onRequestRerenderApp(function (inspectedView) {\n        _this4.setState({\n          inspectedView: inspectedView\n        });\n      });\n    }\n  }, {\n    key: \"setNetworking\",\n    value: function setNetworking(val) {\n      this.setState({\n        networking: val,\n        perfing: false,\n        inspecting: false,\n        inspected: null\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var panelContainerStyle = this.state.panelPos === 'bottom' ? {\n        bottom: 0\n      } : {\n        top: Platform.OS === 'ios' ? 20 : 0\n      };\n      return React.createElement(View, {\n        style: styles.container,\n        pointerEvents: \"box-none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 7\n        }\n      }, this.state.inspecting && React.createElement(InspectorOverlay, {\n        inspected: this.state.inspected,\n        onTouchPoint: this.onTouchPoint.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }\n      }), React.createElement(View, {\n        style: [styles.panelContainer, panelContainerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 9\n        }\n      }, React.createElement(InspectorPanel, {\n        devtoolsIsOpen: !!this.state.devtoolsAgent,\n        inspecting: this.state.inspecting,\n        perfing: this.state.perfing,\n        setPerfing: this.setPerfing.bind(this),\n        setInspecting: this.setInspecting.bind(this),\n        inspected: this.state.inspected,\n        hierarchy: this.state.hierarchy,\n        selection: this.state.selection,\n        setSelection: this.setSelection.bind(this),\n        touchTargeting: Touchable.TOUCH_TARGET_DEBUG,\n        setTouchTargeting: this.setTouchTargeting.bind(this),\n        networking: this.state.networking,\n        setNetworking: this.setNetworking.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Inspector;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    backgroundColor: 'transparent',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0\n  },\n  panelContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0\n  }\n});\nmodule.exports = Inspector;","map":{"version":3,"sources":["C:/Users/na2tt/Desktop/homework/Recipe_App/node_modules/react-native/Libraries/Inspector/Inspector.js"],"names":["Dimensions","require","InspectorOverlay","InspectorPanel","Platform","React","ReactNative","StyleSheet","Touchable","View","invariant","hook","window","__REACT_DEVTOOLS_GLOBAL_HOOK__","renderers","findRenderers","resolveRNStyle","viewConfig","nativeStyleEditorValidAttributes","Object","keys","validAttributes","style","allRenderers","Array","from","values","length","getInspectorDataForViewAtPoint","inspectedView","locationX","locationY","callback","i","renderer","rendererConfig","viewData","hierarchy","Inspector","props","_hideTimeoutID","_attachToDevtools","agent","addListener","_onAgentHideNativeHighlight","_onAgentShowNativeHighlight","_onAgentShutdown","setState","devtoolsAgent","state","inspected","setTimeout","node","clearTimeout","measure","x","y","width","height","left","top","frame","removeListener","panelPos","inspecting","perfing","selection","networking","on","reactDevtoolsAgent","_subs","map","fn","off","_setTouchedViewData","newProps","hierarchyItem","getInspectorData","findNodeHandle","source","selectedIndex","pointerY","touchedViewTag","selectNode","get","val","TOUCH_TARGET_DEBUG","onRequestRerenderApp","panelContainerStyle","bottom","OS","styles","container","onTouchPoint","bind","panelContainer","setPerfing","setInspecting","setSelection","setTouchTargeting","setNetworking","Component","create","position","backgroundColor","right","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst Dimensions = require('../Utilities/Dimensions');\nconst InspectorOverlay = require('./InspectorOverlay');\nconst InspectorPanel = require('./InspectorPanel');\nconst Platform = require('../Utilities/Platform');\nconst React = require('react');\nconst ReactNative = require('../Renderer/shims/ReactNative');\nconst StyleSheet = require('../StyleSheet/StyleSheet');\nconst Touchable = require('../Components/Touchable/Touchable');\nconst View = require('../Components/View/View');\n\nconst invariant = require('invariant');\n\nimport type {\n  HostComponent,\n  TouchedViewDataAtPoint,\n} from '../Renderer/shims/ReactNativeTypes';\n\ntype HostRef = React.ElementRef<HostComponent<mixed>>;\n\nexport type ReactRenderer = {\n  rendererConfig: {\n    getInspectorDataForViewAtPoint: (\n      inspectedView: ?HostRef,\n      locationX: number,\n      locationY: number,\n      callback: Function,\n    ) => void,\n    ...\n  },\n};\n\nconst hook = window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\nconst renderers = findRenderers();\n\n// Required for React DevTools to view/edit React Native styles in Flipper.\n// Flipper doesn't inject these values when initializing DevTools.\nhook.resolveRNStyle = require('../StyleSheet/flattenStyle');\nconst viewConfig = require('../Components/View/ReactNativeViewViewConfig');\nhook.nativeStyleEditorValidAttributes = Object.keys(\n  viewConfig.validAttributes.style,\n);\n\nfunction findRenderers(): $ReadOnlyArray<ReactRenderer> {\n  const allRenderers = Array.from(hook.renderers.values());\n  invariant(\n    allRenderers.length >= 1,\n    'Expected to find at least one React Native renderer on DevTools hook.',\n  );\n  return allRenderers;\n}\n\nfunction getInspectorDataForViewAtPoint(\n  inspectedView: ?HostRef,\n  locationX: number,\n  locationY: number,\n  callback: (viewData: TouchedViewDataAtPoint) => void,\n) {\n  // Check all renderers for inspector data.\n  for (let i = 0; i < renderers.length; i++) {\n    const renderer = renderers[i];\n    if (renderer?.rendererConfig?.getInspectorDataForViewAtPoint != null) {\n      renderer.rendererConfig.getInspectorDataForViewAtPoint(\n        inspectedView,\n        locationX,\n        locationY,\n        viewData => {\n          // Only return with non-empty view data since only one renderer will have this view.\n          if (viewData && viewData.hierarchy.length > 0) {\n            callback(viewData);\n          }\n        },\n      );\n    }\n  }\n}\n\nclass Inspector extends React.Component<\n  {\n    inspectedView: ?HostRef,\n    onRequestRerenderApp: (callback: (instance: ?HostRef) => void) => void,\n    ...\n  },\n  {\n    devtoolsAgent: ?Object,\n    hierarchy: any,\n    panelPos: string,\n    inspecting: boolean,\n    selection: ?number,\n    perfing: boolean,\n    inspected: any,\n    inspectedView: ?HostRef,\n    networking: boolean,\n    ...\n  },\n> {\n  _hideTimeoutID: TimeoutID | null = null;\n  _subs: ?Array<() => void>;\n  _setTouchedViewData: ?(TouchedViewDataAtPoint) => void;\n\n  constructor(props: Object) {\n    super(props);\n\n    this.state = {\n      devtoolsAgent: null,\n      hierarchy: null,\n      panelPos: 'bottom',\n      inspecting: true,\n      perfing: false,\n      inspected: null,\n      selection: null,\n      inspectedView: this.props.inspectedView,\n      networking: false,\n    };\n  }\n\n  componentDidMount() {\n    hook.on('react-devtools', this._attachToDevtools);\n    // if devtools is already started\n    if (hook.reactDevtoolsAgent) {\n      this._attachToDevtools(hook.reactDevtoolsAgent);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._subs) {\n      this._subs.map(fn => fn());\n    }\n    hook.off('react-devtools', this._attachToDevtools);\n    this._setTouchedViewData = null;\n  }\n\n  UNSAFE_componentWillReceiveProps(newProps: Object) {\n    this.setState({inspectedView: newProps.inspectedView});\n  }\n\n  _attachToDevtools = (agent: Object) => {\n    agent.addListener('hideNativeHighlight', this._onAgentHideNativeHighlight);\n    agent.addListener('showNativeHighlight', this._onAgentShowNativeHighlight);\n    agent.addListener('shutdown', this._onAgentShutdown);\n\n    this.setState({\n      devtoolsAgent: agent,\n    });\n  };\n\n  _onAgentHideNativeHighlight = () => {\n    if (this.state.inspected === null) {\n      return;\n    }\n    // we wait to actually hide in order to avoid flicker\n    this._hideTimeoutID = setTimeout(() => {\n      this.setState({\n        inspected: null,\n      });\n    }, 100);\n  };\n\n  _onAgentShowNativeHighlight = node => {\n    clearTimeout(this._hideTimeoutID);\n\n    node.measure((x, y, width, height, left, top) => {\n      this.setState({\n        hierarchy: [],\n        inspected: {\n          frame: {left, top, width, height},\n        },\n      });\n    });\n  };\n\n  _onAgentShutdown = () => {\n    const agent = this.state.devtoolsAgent;\n    if (agent != null) {\n      agent.removeListener(\n        'hideNativeHighlight',\n        this._onAgentHideNativeHighlight,\n      );\n      agent.removeListener(\n        'showNativeHighlight',\n        this._onAgentShowNativeHighlight,\n      );\n      agent.removeListener('shutdown', this._onAgentShutdown);\n\n      this.setState({devtoolsAgent: null});\n    }\n  };\n\n  setSelection(i: number) {\n    const hierarchyItem = this.state.hierarchy[i];\n    // we pass in ReactNative.findNodeHandle as the method is injected\n    const {measure, props, source} = hierarchyItem.getInspectorData(\n      ReactNative.findNodeHandle,\n    );\n\n    measure((x, y, width, height, left, top) => {\n      this.setState({\n        inspected: {\n          frame: {left, top, width, height},\n          style: props.style,\n          source,\n        },\n        selection: i,\n      });\n    });\n  }\n\n  onTouchPoint(locationX: number, locationY: number) {\n    this._setTouchedViewData = viewData => {\n      const {\n        hierarchy,\n        props,\n        selectedIndex,\n        source,\n        frame,\n        pointerY,\n        touchedViewTag,\n      } = viewData;\n\n      // Sync the touched view with React DevTools.\n      // Note: This is Paper only. To support Fabric,\n      // DevTools needs to be updated to not rely on view tags.\n      if (this.state.devtoolsAgent && touchedViewTag) {\n        this.state.devtoolsAgent.selectNode(\n          ReactNative.findNodeHandle(touchedViewTag),\n        );\n      }\n\n      this.setState({\n        panelPos:\n          pointerY > Dimensions.get('window').height / 2 ? 'top' : 'bottom',\n        selection: selectedIndex,\n        hierarchy,\n        inspected: {\n          style: props.style,\n          frame,\n          source,\n        },\n      });\n    };\n    getInspectorDataForViewAtPoint(\n      this.state.inspectedView,\n      locationX,\n      locationY,\n      viewData => {\n        if (this._setTouchedViewData != null) {\n          this._setTouchedViewData(viewData);\n          this._setTouchedViewData = null;\n        }\n      },\n    );\n  }\n\n  setPerfing(val: boolean) {\n    this.setState({\n      perfing: val,\n      inspecting: false,\n      inspected: null,\n      networking: false,\n    });\n  }\n\n  setInspecting(val: boolean) {\n    this.setState({\n      inspecting: val,\n      inspected: null,\n    });\n  }\n\n  setTouchTargeting(val: boolean) {\n    Touchable.TOUCH_TARGET_DEBUG = val;\n    this.props.onRequestRerenderApp(inspectedView => {\n      this.setState({inspectedView});\n    });\n  }\n\n  setNetworking(val: boolean) {\n    this.setState({\n      networking: val,\n      perfing: false,\n      inspecting: false,\n      inspected: null,\n    });\n  }\n\n  render(): React.Node {\n    const panelContainerStyle =\n      this.state.panelPos === 'bottom'\n        ? {bottom: 0}\n        : {top: Platform.OS === 'ios' ? 20 : 0};\n    return (\n      <View style={styles.container} pointerEvents=\"box-none\">\n        {this.state.inspecting && (\n          <InspectorOverlay\n            inspected={this.state.inspected}\n            onTouchPoint={this.onTouchPoint.bind(this)}\n          />\n        )}\n        <View style={[styles.panelContainer, panelContainerStyle]}>\n          <InspectorPanel\n            devtoolsIsOpen={!!this.state.devtoolsAgent}\n            inspecting={this.state.inspecting}\n            perfing={this.state.perfing}\n            setPerfing={this.setPerfing.bind(this)}\n            setInspecting={this.setInspecting.bind(this)}\n            inspected={this.state.inspected}\n            hierarchy={this.state.hierarchy}\n            selection={this.state.selection}\n            setSelection={this.setSelection.bind(this)}\n            touchTargeting={Touchable.TOUCH_TARGET_DEBUG}\n            setTouchTargeting={this.setTouchTargeting.bind(this)}\n            networking={this.state.networking}\n            setNetworking={this.setNetworking.bind(this)}\n          />\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    position: 'absolute',\n    backgroundColor: 'transparent',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n  },\n  panelContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n  },\n});\n\nmodule.exports = Inspector;\n"]},"metadata":{},"sourceType":"script"}